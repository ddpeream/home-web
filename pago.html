<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Servi â€“ Pago</title>
<link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,wght@0,400;0,600;0,700;1,400&family=Nunito:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/variables.css">
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/status-bar.css">
<link rel="stylesheet" href="css/pago.css">
<link rel="stylesheet" href="css/pago-metodos.css">
<link rel="stylesheet" href="css/pago-estado.css">
</head>
<body>
<script src="js/auth.js"></script>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PANTALLA 1: RESUMEN DEL PEDIDO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen active" id="screen-resumen">

  <div class="status-bar"><span>9:41</span><span>ğŸ”‹ â—€</span></div>

  <div class="pago-nav">
    <button class="pago-back" id="btn-back-resumen">â†</button>
    <div class="pago-nav-title">Resumen del pedido</div>
    <div class="pago-nav-secure">ğŸ”’ Seguro</div>
  </div>

  <div class="pago-steps">
    <div class="pago-step active"></div>
    <div class="pago-step"></div>
    <div class="pago-step"></div>
  </div>

  <div class="pago-scroll">

    <!-- Servicio contratado -->
    <div class="pago-card">
      <div class="pago-card-title">ğŸ‘¤ Servicio contratado</div>
      <div class="pago-service">
        <div class="ps-avatar" id="ps-avatar">ğŸ‘©â€ğŸ³</div>
        <div>
          <div class="ps-name" id="ps-name">MarÃ­a RodrÃ­guez</div>
          <div class="ps-role" id="ps-role">Empleada del Hogar</div>
        </div>
      </div>
      <div class="ps-details">
        <div class="ps-detail"><span class="ps-detail-icon">ğŸ“…</span><span id="ps-date">Hoy, 18 feb</span></div>
        <div class="ps-detail"><span class="ps-detail-icon">ğŸ•</span><span id="ps-time">8:00 am - 4:00 pm</span></div>
        <div class="ps-detail"><span class="ps-detail-icon">ğŸ“</span><span id="ps-location">Tu hogar</span></div>
      </div>
    </div>

    <!-- Detalle del cobro -->
    <div class="pago-card">
      <div class="pago-card-title">ğŸ’° Detalle del cobro</div>
      <div class="price-rows">
        <div class="price-row">
          <span>Servicio</span>
          <span id="pr-subtotal">$85.000</span>
        </div>
        <div class="price-row">
          <span>ComisiÃ³n Servi (8%)</span>
          <span id="pr-comision">$6.800</span>
        </div>
        <div class="price-row" id="promo-row" style="display:none;">
          <span class="promo-text">Descuento aplicado</span>
          <span class="promo-amount" id="pr-descuento">-$0</span>
        </div>
        <div class="price-divider"></div>
        <div class="price-row total-row">
          <span>Total</span>
          <span id="pr-total">$91.800</span>
        </div>
      </div>
    </div>

    <!-- CÃ³digo promocional -->
    <div class="pago-card">
      <div class="pago-card-title">ğŸ·ï¸ CÃ³digo promocional</div>
      <div class="coupon-wrap">
        <input class="coupon-input" id="coupon-input" placeholder="Ingresa tu cÃ³digo">
        <button class="coupon-btn" id="coupon-btn">Aplicar</button>
      </div>
    </div>

    <!-- Info seguridad -->
    <div class="pago-info">
      <div class="pago-info-icon">ğŸ›¡ï¸</div>
      <div class="pago-info-text"><strong>Pago protegido.</strong> Si el servicio no se presta, te devolvemos el 100% de tu dinero. Tu informaciÃ³n estÃ¡ cifrada de extremo a extremo.</div>
    </div>

    <div style="height:20px;"></div>
  </div>

  <div class="pago-cta">
    <button class="pago-cta-btn" onclick="pagoGoTo('screen-metodo')">Continuar al pago â†’</button>
  </div>

</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PANTALLA 2: MÃ‰TODO DE PAGO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen-metodo">

  <div class="status-bar"><span>9:41</span><span>ğŸ”‹ â—€</span></div>

  <div class="pago-nav">
    <button class="pago-back" onclick="pagoGoTo('screen-resumen')">â†</button>
    <div class="pago-nav-title">MÃ©todo de pago</div>
    <div class="pago-nav-secure">ğŸ”’ Seguro</div>
  </div>

  <div class="pago-steps">
    <div class="pago-step done"></div>
    <div class="pago-step active"></div>
    <div class="pago-step"></div>
  </div>

  <div class="pago-scroll">

    <!-- Tarjetas guardadas -->
    <div class="pago-card">
      <div class="pago-card-title">ğŸ’³ Tarjetas guardadas</div>
      <div class="pm-list">
        <div class="pm-item selected" data-method="visa-4521" onclick="selectMethod(this)">
          <div class="pm-radio"><div class="pm-dot"></div></div>
          <div class="pm-icon visa-bg">ğŸ’³</div>
          <div class="pm-info">
            <div class="pm-name">Visa â€¢â€¢â€¢â€¢ 4521</div>
            <div class="pm-desc">Vence 12/27</div>
          </div>
        </div>
      </div>
      <button class="pm-add-card" onclick="pagoGoTo('screen-tarjeta')">+ Agregar nueva tarjeta</button>
    </div>

    <!-- PSE -->
    <div class="pago-card">
      <div class="pago-card-title">ğŸ¦ Transferencia bancaria</div>
      <div class="pm-list">
        <div class="pm-item" data-method="pse" onclick="selectMethod(this)">
          <div class="pm-radio"><div class="pm-dot"></div></div>
          <div class="pm-icon pse-bg">ğŸ¦</div>
          <div class="pm-info">
            <div class="pm-name">PSE</div>
            <div class="pm-desc">DÃ©bito directo de tu banco</div>
          </div>
          <div class="pm-badge badge-popular">Popular</div>
        </div>
      </div>
    </div>

    <!-- Billeteras digitales -->
    <div class="pago-card">
      <div class="pago-card-title">ğŸ“± Billeteras digitales</div>
      <div class="pm-list">
        <div class="pm-item" data-method="nequi" onclick="selectMethod(this)">
          <div class="pm-radio"><div class="pm-dot"></div></div>
          <div class="pm-icon nequi-bg">ğŸ“±</div>
          <div class="pm-info">
            <div class="pm-name">Nequi</div>
            <div class="pm-desc">Paga desde tu celular</div>
          </div>
          <div class="pm-badge badge-popular">Popular</div>
        </div>
        <div class="pm-item" data-method="daviplata" onclick="selectMethod(this)">
          <div class="pm-radio"><div class="pm-dot"></div></div>
          <div class="pm-icon davi-bg">ğŸ“²</div>
          <div class="pm-info">
            <div class="pm-name">Daviplata</div>
            <div class="pm-desc">Transferencia instantÃ¡nea</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Efectivo -->
    <div class="pago-card">
      <div class="pago-card-title">ğŸ’µ Efectivo</div>
      <div class="pm-list">
        <div class="pm-item" data-method="efecty" onclick="selectMethod(this)">
          <div class="pm-radio"><div class="pm-dot"></div></div>
          <div class="pm-icon efecty-bg">ğŸª</div>
          <div class="pm-info">
            <div class="pm-name">Efecty</div>
            <div class="pm-desc">Paga en cualquier punto Efecty</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Otros mÃ©todos -->
    <div class="pago-card">
      <div class="pago-card-title">ğŸŒ Otros mÃ©todos</div>
      <div class="pm-list">
        <div class="pm-item" data-method="mercadopago" onclick="selectMethod(this)">
          <div class="pm-radio"><div class="pm-dot"></div></div>
          <div class="pm-icon mp-bg">ğŸŸ¡</div>
          <div class="pm-info">
            <div class="pm-name">MercadoPago</div>
            <div class="pm-desc">Cuenta MercadoPago o tarjeta</div>
          </div>
        </div>
        <div class="pm-item" data-method="paypal" onclick="selectMethod(this)">
          <div class="pm-radio"><div class="pm-dot"></div></div>
          <div class="pm-icon paypal-bg">ğŸ”µ</div>
          <div class="pm-info">
            <div class="pm-name">PayPal</div>
            <div class="pm-desc">Pago internacional en USD</div>
          </div>
          <div class="pm-badge badge-intl">USD</div>
        </div>
      </div>
    </div>

    <!-- Powered by -->
    <div class="pago-powered">
      <div class="pago-powered-text">Pagos procesados con</div>
      <div class="pago-powered-logos">
        <span class="powered-logo">Wompi</span>
        <span class="powered-logo">ePayco</span>
        <span class="powered-logo">MercadoPago</span>
        <span class="powered-logo">PayPal</span>
      </div>
    </div>

    <div style="height:20px;"></div>
  </div>

  <div class="pago-cta">
    <div class="pago-cta-row">
      <div>
        <div class="pago-cta-total-label">Total a pagar</div>
        <div class="pago-cta-total-amount" id="cta-total">$91.800</div>
      </div>
      <button class="pago-cta-btn pago-cta-btn-pay" id="btn-pagar" onclick="procesarPago()">Pagar â†’</button>
    </div>
  </div>

</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PANTALLA 3: NUEVA TARJETA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen-tarjeta">

  <div class="status-bar"><span>9:41</span><span>ğŸ”‹ â—€</span></div>

  <div class="pago-nav">
    <button class="pago-back" onclick="pagoGoTo('screen-metodo')">â†</button>
    <div class="pago-nav-title">Nueva tarjeta</div>
  </div>

  <div class="pago-steps">
    <div class="pago-step done"></div>
    <div class="pago-step active"></div>
    <div class="pago-step"></div>
  </div>

  <div class="pago-scroll">

    <!-- Card visual preview -->
    <div class="card-visual">
      <div class="cv-top">
        <div class="cv-chip">ğŸ’³</div>
        <div class="cv-type" id="cv-type">VISA</div>
      </div>
      <div class="cv-number" id="cv-number">â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢</div>
      <div class="cv-bottom">
        <div>
          <div class="cv-label">TITULAR</div>
          <div class="cv-holder" id="cv-holder">TU NOMBRE</div>
        </div>
        <div>
          <div class="cv-label">VENCE</div>
          <div class="cv-expiry" id="cv-expiry">MM/AA</div>
        </div>
      </div>
    </div>

    <!-- Card form -->
    <div class="pago-card">
      <div class="card-field">
        <label class="card-label">NÃºmero de tarjeta</label>
        <div class="card-input-wrap">
          <span class="card-input-icon">ğŸ’³</span>
          <input class="card-input" id="card-number" type="tel" placeholder="0000 0000 0000 0000" maxlength="19" autocomplete="cc-number">
        </div>
      </div>

      <div class="card-field">
        <label class="card-label">Nombre del titular</label>
        <div class="card-input-wrap">
          <span class="card-input-icon">ğŸ‘¤</span>
          <input class="card-input" id="card-name" type="text" placeholder="Como aparece en la tarjeta" autocomplete="cc-name">
        </div>
      </div>

      <div class="card-field-row">
        <div class="card-field">
          <label class="card-label">Vencimiento</label>
          <div class="card-input-wrap">
            <input class="card-input" id="card-expiry" type="tel" placeholder="MM/AA" maxlength="5" autocomplete="cc-exp">
          </div>
        </div>
        <div class="card-field">
          <label class="card-label">CVV</label>
          <div class="card-input-wrap">
            <span class="card-input-icon">ğŸ”’</span>
            <input class="card-input" id="card-cvv" type="tel" placeholder="123" maxlength="4" autocomplete="cc-csc">
          </div>
        </div>
      </div>

      <label class="card-save">
        <input type="checkbox" class="card-save-check" checked> Guardar tarjeta para prÃ³ximos pagos
      </label>
    </div>

    <!-- Security badges -->
    <div class="pago-security">
      <div class="sec-item">ğŸ”’ Cifrado SSL</div>
      <div class="sec-item">ğŸ›¡ï¸ PCI DSS</div>
      <div class="sec-item">âœ“ 3D Secure</div>
    </div>

    <div style="height:20px;"></div>
  </div>

  <div class="pago-cta">
    <button class="pago-cta-btn" id="btn-pagar-tarjeta" onclick="procesarPagoTarjeta()">
      Pagar <span id="cta-total-tarjeta">$91.800</span> â†’
    </button>
  </div>

</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PANTALLA 4: PROCESANDO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen-procesando">
  <div class="procesando-wrap">
    <div class="procesando-circle">
      <div class="procesando-pulse"></div>
      <div class="procesando-icon">ğŸ’³</div>
    </div>
    <div class="procesando-title">Procesando tu pago...</div>
    <div class="procesando-sub">No cierres esta ventana</div>
    <div class="procesando-dots">
      <span class="pdot"></span>
      <span class="pdot"></span>
      <span class="pdot"></span>
    </div>
    <div class="procesando-secure">ğŸ”’ ConexiÃ³n segura y cifrada</div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PANTALLA 5: Ã‰XITO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen-exito">

  <div class="status-bar"><span>9:41</span><span>ğŸ”‹ â—€</span></div>

  <div class="pago-scroll" style="padding-bottom:40px;">

    <div class="exito-hero">
      <div class="exito-check">
        <div class="exito-check-circle">
          <svg class="exito-checkmark" viewBox="0 0 52 52">
            <circle class="exito-check-bg" cx="26" cy="26" r="25" fill="none"/>
            <path class="exito-check-path" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
          </svg>
        </div>
      </div>
      <div class="exito-title">Pago confirmado</div>
      <div class="exito-sub">Tu servicio ha sido agendado exitosamente</div>
    </div>

    <!-- Comprobante -->
    <div class="pago-card">
      <div class="pago-card-title">ğŸ“„ Comprobante</div>
      <div class="receipt-rows">
        <div class="receipt-row">
          <span class="receipt-label">NÂ° TransacciÃ³n</span>
          <span class="receipt-value" id="rx-txn">#TXN-28471</span>
        </div>
        <div class="receipt-row">
          <span class="receipt-label">Servicio</span>
          <span class="receipt-value" id="rx-service">Empleada del Hogar</span>
        </div>
        <div class="receipt-row">
          <span class="receipt-label">Profesional</span>
          <span class="receipt-value" id="rx-worker">MarÃ­a RodrÃ­guez</span>
        </div>
        <div class="receipt-row">
          <span class="receipt-label">MÃ©todo de pago</span>
          <span class="receipt-value" id="rx-method">Visa â€¢â€¢â€¢â€¢ 4521</span>
        </div>
        <div class="receipt-divider"></div>
        <div class="receipt-row receipt-total">
          <span class="receipt-label">Total pagado</span>
          <span class="receipt-value" id="rx-total">$91.800</span>
        </div>
        <div class="receipt-row">
          <span class="receipt-label">Fecha</span>
          <span class="receipt-value" id="rx-date">18 feb 2025 Â· 9:42 am</span>
        </div>
      </div>
    </div>

    <!-- Coberturas -->
    <div class="pago-info" style="margin-top:16px;">
      <div class="pago-info-icon">ğŸ›¡ï¸</div>
      <div class="pago-info-text"><strong>Coberturas activadas:</strong> ARL incluida, Seguro de vida activo y Contrato digital generado. Consulta todo en la secciÃ³n Confianza.</div>
    </div>

    <!-- Acciones -->
    <div class="exito-actions">
      <a class="exito-btn-primary" href="actividad.html">Ver en Actividad</a>
      <a class="exito-btn-secondary" href="mensajes.html">ğŸ’¬ Enviar mensaje</a>
    </div>

    <div class="exito-home">
      <a href="index.html" class="exito-home-link">â† Volver al inicio</a>
    </div>

  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PANTALLA 6: ERROR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen-error">

  <div class="status-bar"><span>9:41</span><span>ğŸ”‹ â—€</span></div>

  <div class="pago-scroll" style="padding-bottom:40px;">

    <div class="error-hero">
      <div class="error-icon-wrap">
        <div class="error-icon">âœ•</div>
      </div>
      <div class="error-title">Pago no procesado</div>
      <div class="error-sub" id="error-msg">La tarjeta fue rechazada por fondos insuficientes. Intenta con otro mÃ©todo de pago.</div>
    </div>

    <div class="error-actions">
      <button class="error-btn-primary" onclick="reintentar()">Reintentar pago</button>
      <button class="error-btn-secondary" onclick="pagoGoTo('screen-metodo')">Cambiar mÃ©todo de pago</button>
    </div>

    <div class="exito-home">
      <a href="index.html" class="exito-home-link">â† Volver al inicio</a>
    </div>

  </div>
</div>

<script src="js/pago.js"></script>
</body>
</html>
